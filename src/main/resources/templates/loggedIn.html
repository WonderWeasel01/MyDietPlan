<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/CSS/LoggedIn.css">
    <title>Welcome Page</title>
    <script src="https://kit.fontawesome.com/c0582023bf.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400&display=swap" rel="stylesheet">
</head>
<body>
    <div class="Welcomepage">
        <div class="Header">
            <img class="Logo" src="Images/PNGS/minkostplan-logo.png" />
            <div class="Welcometext">
                <div class="Name">Velkommen, <span th:text="${user.firstName}">User</span>!</div>
                <div class="Quote">Husk at spise din frokost idag!</div>
            </div>

            <div class="ButtonGroup">
            <div class="Activebutton">
                <div class="Activetext">MENU</div>
            </div>
            <div class="Nonselectedbutton">
                <div class="Nonselectedtext">FAVORIT</div>
            </div>
            <div class="Nonselectedbutton">
                <div class="Nonselectedtext">ALLE RETTER</div>
            </div>
            </div>
            <div class="Profiledropdown profile action" onclick="menuToggle();">
                <img class="Profileimage" src="https://via.placeholder.com/59x52" />
                <div class="Name"><span th:text="${user.firstName}">User</span></div>
                    <i class="fa-solid fa-chevron-down"></i>
            
            <div class="menu">
                <ul>
                  <li>
                    <i class="fa-solid fa-user" style="color: #87cc83;"></i><a href="#">Min Profil</a>
                  </li>
                  <li>
                    <i class="fa-solid fa-pen" style="color: #87cc83;"></i><a href="/opdaterBruger{userId}">Rediger Profil</a>
                  </li>
                  <li>
                    <i class="fa-solid fa-gear" style="color: #87cc83;"></i><a href="#">Indstillinger</a>
                  </li>
                  <li th:action="@{/logout}">
                    <i class="fa-solid fa-arrow-right-from-bracket" style="color: #87cc83;"></i>
                    <a th:href="@{/logout}">Log ud</a>
                </li>
                </ul>
              </div>
            </div>


        </div>
        <div class="Mealbody">
            <div class="Weekplan">
                <div class="Days">
                    <div class="Mandag" id="Breakfast" onclick="changeColor('Breakfast', this)">Morgenmad</div>
                    <script>
                        document.getElementById("Breakfast").addEventListener("click", function() {
                            // Add the "Step2" class to the element to make it visible
                            document.querySelector(".Mealdivs").style.display = "flex";
                            document.querySelector(".Mealdivs2").style.display = "none";
                            document.querySelector(".Mealdivs3").style.display = "none";
                        });
                    </script>
                    <div class="Tirsdag" id="Lunch" onclick="changeColor('Lunch', this)">Frokost</div>
                    <script>
                        document.getElementById("Lunch").addEventListener("click", function() {
                            // Add the "Step2" class to the element to make it visible
                            document.querySelector(".Mealdivs2").style.display = "flex";
                            document.querySelector(".Mealdivs").style.display = "none";
                            document.querySelector(".Mealdivs3").style.display = "none";
                        });
                    </script>
                    <div class="Onsdag" id="Dinner" onclick="changeColor('Dinner', this)">Aftensmad</div>
                    <script>
                        document.getElementById("Dinner").addEventListener("click", function() {
                            // Add the "Step2" class to the element to make it visible
                            document.querySelector(".Mealdivs3").style.display = "flex";
                            document.querySelector(".Mealdivs2").style.display = "none";
                            document.querySelector(".Mealdivs").style.display = "none";
                        });
                    </script>
                   </div>


                <div class="Lines">
                    <div class="Mondayline active" id="BreakfastLine">━━━━━━</div>
                    <div class="Tuesdayline" id="LunchLine">━━━━━━</div>
                    <div class="Wendsdayline" id="DinnerLine">━━━━━━</div>
                </div>
            </div>


            <!-- Breakfast Section -->
            <div class="Mealdivs">
                <div th:each="recipe : ${weeklyRecipes}" th:if="${recipe.timeOfDay == 'Breakfast'}">
                <div class="Mealbox">
                        <img class="Mealimage" th:src="'data:' + ${recipe.image.imageType} + ';base64,' + ${recipe.image.base64Image}" alt="Meal Image" />
                        <div class="Mealname">
                            <span th:text="${recipe.title}">Opskrift titel</span>
                        </div>
                        <div class="Mealrow">
                            <div class="Caloriestext">
                                <span th:text="${recipe.totalCalories}">Opskrift titel</span> Kalorier
                            </div>
                            <a th:href="@{/seOpskrift/{recipeID}(recipeID=${recipe.recipeID})}" class="Mealbutton">
                                <div  class="Mealbuttontext">SE OPSKRIFT</div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Lunch Section -->
            <div class="Mealdivs2">
                <div th:each="recipe : ${weeklyRecipes}" th:if="${recipe.timeOfDay == 'Lunch'}">
                <div class="Mealbox">
                        <img class="Mealimage" th:src="'data:' + ${recipe.image.imageType} + ';base64,' + ${recipe.image.base64Image}" alt="Meal Image" />
                        <div class="Mealname">
                            <span th:text="${recipe.title}">Opskrift titel</span>
                        </div>
                        <div class="Mealrow">
                            <div class="Caloriestext">
                                <span th:text="${recipe.totalCalories}">Opskrift titel</span> Kalorier
                            </div>
                            <a th:href="@{/seOpskrift/{recipeID}(recipeID=${recipe.recipeID})}" class="Mealbutton">
                                <div  class="Mealbuttontext">SE OPSKRIFT</div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dinner Section -->
            <div class="Mealdivs3">
                <div th:each="recipe : ${weeklyRecipes}" th:if="${recipe.timeOfDay == 'Dinner'}">
                <div class="Mealbox">
                        <img class="Mealimage" th:src="'data:' + ${recipe.image.imageType} + ';base64,' + ${recipe.image.base64Image}" alt="Meal Image" />
                        <div class="Mealname">
                            <span th:text="${recipe.title}">Opskrift titel</span>
                        </div>
                        <div class="Mealrow">
                            <div class="Caloriestext">
                                <span th:text="${recipe.totalCalories}">Opskrift titel</span> Kalorier
                            </div>
                            <a th:href="@{/seOpskrift/{recipeID}(recipeID=${recipe.recipeID})}" class="Mealbutton">
                                <div  class="Mealbuttontext">SE OPSKRIFT</div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script>
    function changeColor(day, element) {
        var lineElement = document.getElementById(day + "Line");
        var allLines = document.querySelectorAll('.Lines > div');
        var allDays = document.querySelectorAll('.Days > div');

        // Remove any previously added 'active' class from all lines and days
        allLines.forEach(function (line) {
            line.classList.remove("active");
        });

        allDays.forEach(function (dayElement) {
            dayElement.classList.remove("Selected");
            dayElement.classList.add("Unselected");
        });

        // Add the 'active' class to the corresponding line
        lineElement.classList.add("active");

        // Toggle the text color of the selected day
        element.classList.remove("Unselected");
        element.classList.add("Selected");
    }




//DropDown
function menuToggle() {
const toggleMenu = document.querySelector(".menu");
toggleMenu.classList.toggle("active");
}


</script>
</html>
